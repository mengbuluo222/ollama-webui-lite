import{j as i}from"./singletons.5c4b06e7.js";import{w as d}from"./index.6a125a7f.js";let l;const u=new Uint8Array(16);function m(){if(!l&&(l=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!l))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(u)}const t=[];for(let n=0;n<256;++n)t.push((n+256).toString(16).slice(1));function p(n,e=0){return t[n[e+0]]+t[n[e+1]]+t[n[e+2]]+t[n[e+3]]+"-"+t[n[e+4]]+t[n[e+5]]+"-"+t[n[e+6]]+t[n[e+7]]+"-"+t[n[e+8]]+t[n[e+9]]+"-"+t[n[e+10]]+t[n[e+11]]+t[n[e+12]]+t[n[e+13]]+t[n[e+14]]+t[n[e+15]]}const g=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),r={randomUUID:g};function y(n,e,o){if(r.randomUUID&&!e&&!n)return r.randomUUID();n=n||{};const s=n.random||(n.rng||m)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){o=o||0;for(let a=0;a<16;++a)e[o+a]=s[a];return e}return p(s)}const U=i("goto"),w=d({}),b=d(void 0),f=d(""),v=d([]),S=d([]),_=d({}),j=d(!1),D="http://localhost:11434/api",E="v0.0.1-lite",R=n=>{let e="";return new TransformStream({transform(o,s){e+=o;const a=e.split(n);a.slice(0,-1).forEach(c=>s.enqueue(c)),e=a[a.length-1]},flush(o){e&&o.enqueue(e)}})},A=n=>{let e={messages:{},currentId:null},o=null,s=null;for(const a of n)s=y(),o!==null&&(e.messages[o].childrenIds=[...e.messages[o].childrenIds,s]),e.messages[s]={...a,id:s,parentId:o,childrenIds:[]},o=s;return e.currentId=s,e};var O=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function T(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}export{D as O,E as W,R as a,v as b,O as c,b as d,f as e,U as f,T as g,j as h,w as i,A as j,S as m,_ as s,y as v};
